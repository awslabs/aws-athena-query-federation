<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>VerticaMetadataHandler (AWS Athena Query Federation 1.1.10 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VerticaMetadataHandler (AWS Athena Query Federation 1.1.10 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VerticaMetadataHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaConnectionFactory.html" title="class in com.amazonaws.athena.connectors.vertica"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaRecordHandler.html" title="class in com.amazonaws.athena.connectors.vertica"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html" target="_top">Frames</a></li>
<li><a href="VerticaMetadataHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.amazonaws.athena.connectors.vertica</div>
<h2 title="Class VerticaMetadataHandler" class="title">Class VerticaMetadataHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">com.amazonaws.athena.connector.lambda.handlers.MetadataHandler</a></li>
<li>
<ul class="inheritance">
<li>com.amazonaws.athena.connectors.vertica.VerticaMetadataHandler</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>com.amazonaws.services.lambda.runtime.RequestStreamHandler</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">VerticaMetadataHandler</span>
extends <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#VERTICA_CONN_STR">VERTICA_CONN_STR</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.amazonaws.athena.connector.lambda.handlers.MetadataHandler">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.amazonaws.athena.connector.lambda.handlers.<a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></h3>
<code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#DISABLE_SPILL_ENCRYPTION">DISABLE_SPILL_ENCRYPTION</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#KMS_KEY_ID_ENV">KMS_KEY_ID_ENV</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#SPILL_BUCKET_ENV">SPILL_BUCKET_ENV</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#SPILL_PREFIX_ENV">SPILL_PREFIX_ENV</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#VerticaMetadataHandler--">VerticaMetadataHandler</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#VerticaMetadataHandler-com.amazonaws.athena.connector.lambda.security.EncryptionKeyFactory-com.amazonaws.athena.connectors.vertica.VerticaConnectionFactory-com.amazonaws.services.secretsmanager.AWSSecretsManager-com.amazonaws.services.athena.AmazonAthena-java.lang.String-java.lang.String-com.amazonaws.athena.connectors.vertica.VerticaSchemaUtils-com.amazonaws.services.s3.AmazonS3-">VerticaMetadataHandler</a></span>(<a href="../../../../../com/amazonaws/athena/connector/lambda/security/EncryptionKeyFactory.html" title="interface in com.amazonaws.athena.connector.lambda.security">EncryptionKeyFactory</a>&nbsp;keyFactory,
                      <a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaConnectionFactory.html" title="class in com.amazonaws.athena.connectors.vertica">VerticaConnectionFactory</a>&nbsp;connectionFactory,
                      com.amazonaws.services.secretsmanager.AWSSecretsManager&nbsp;awsSecretsManager,
                      com.amazonaws.services.athena.AmazonAthena&nbsp;athena,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;spillBucket,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;spillPrefix,
                      <a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaSchemaUtils.html" title="class in com.amazonaws.athena.connectors.vertica">VerticaSchemaUtils</a>&nbsp;verticaSchemaUtils,
                      com.amazonaws.services.s3.AmazonS3&nbsp;amazonS3)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetSplitsResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetSplitsResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#doGetSplits-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.GetSplitsRequest-">doGetSplits</a></span>(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;allocator,
           <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetSplitsRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetSplitsRequest</a>&nbsp;request)</code>
<div class="block">Used to split-up the reads required to scan the requested batch of partition(s).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetTableResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#doGetTable-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.GetTableRequest-">doGetTable</a></span>(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;allocator,
          <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetTableRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableRequest</a>&nbsp;request)</code>
<div class="block">Used to get definition (field names, types, descriptions, etc...) of a Table.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/ListSchemasResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#doListSchemaNames-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.ListSchemasRequest-">doListSchemaNames</a></span>(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;allocator,
                 <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/ListSchemasRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasRequest</a>&nbsp;request)</code>
<div class="block">Used to get the list of schemas (aka databases) that this source contains.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/ListTablesResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#doListTables-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.ListTablesRequest-">doListTables</a></span>(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;allocator,
            <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/ListTablesRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesRequest</a>&nbsp;request)</code>
<div class="block">Used to get the list of tables that this source contains.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#enhancePartitionSchema-com.amazonaws.athena.connector.lambda.data.SchemaBuilder-com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest-">enhancePartitionSchema</a></span>(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/SchemaBuilder.html" title="class in com.amazonaws.athena.connector.lambda.data">SchemaBuilder</a>&nbsp;partitionSchemaBuilder,
                      <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetTableLayoutRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableLayoutRequest</a>&nbsp;request)</code>
<div class="block">Here we inject the additional column to hold the Prepared SQL Statement.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#getPartitions-com.amazonaws.athena.connector.lambda.data.BlockWriter-com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest-com.amazonaws.athena.connector.lambda.QueryStatusChecker-">getPartitions</a></span>(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockWriter.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockWriter</a>&nbsp;blockWriter,
             <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetTableLayoutRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableLayoutRequest</a>&nbsp;request,
             <a href="../../../../../com/amazonaws/athena/connector/lambda/QueryStatusChecker.html" title="class in com.amazonaws.athena.connector.lambda">QueryStatusChecker</a>&nbsp;queryStatusChecker)</code>
<div class="block">Used to get the partitions that must be read from the request table in order to satisfy the requested predicate.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html#getS3ExportBucket--">getS3ExportBucket</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.amazonaws.athena.connector.lambda.handlers.MetadataHandler">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.amazonaws.athena.connector.lambda.handlers.<a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></h3>
<code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#doGetTableLayout-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest-">doGetTableLayout</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#doHandleRequest-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.fasterxml.jackson.databind.ObjectMapper-com.amazonaws.athena.connector.lambda.metadata.MetadataRequest-java.io.OutputStream-">doHandleRequest</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#doPing-com.amazonaws.athena.connector.lambda.request.PingRequest-">doPing</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#getSecret-java.lang.String-">getSecret</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#handleRequest-java.io.InputStream-java.io.OutputStream-com.amazonaws.services.lambda.runtime.Context-">handleRequest</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#makeEncryptionKey--">makeEncryptionKey</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#makeSpillLocation-com.amazonaws.athena.connector.lambda.metadata.MetadataRequest-">makeSpillLocation</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#onPing-com.amazonaws.athena.connector.lambda.request.PingRequest-">onPing</a>, <a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#resolveSecrets-java.lang.String-">resolveSecrets</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="VERTICA_CONN_STR">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VERTICA_CONN_STR</h4>
<pre>protected static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> VERTICA_CONN_STR</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.amazonaws.athena.connectors.vertica.VerticaMetadataHandler.VERTICA_CONN_STR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VerticaMetadataHandler--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VerticaMetadataHandler</h4>
<pre>public&nbsp;VerticaMetadataHandler()</pre>
</li>
</ul>
<a name="VerticaMetadataHandler-com.amazonaws.athena.connector.lambda.security.EncryptionKeyFactory-com.amazonaws.athena.connectors.vertica.VerticaConnectionFactory-com.amazonaws.services.secretsmanager.AWSSecretsManager-com.amazonaws.services.athena.AmazonAthena-java.lang.String-java.lang.String-com.amazonaws.athena.connectors.vertica.VerticaSchemaUtils-com.amazonaws.services.s3.AmazonS3-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VerticaMetadataHandler</h4>
<pre>protected&nbsp;VerticaMetadataHandler(<a href="../../../../../com/amazonaws/athena/connector/lambda/security/EncryptionKeyFactory.html" title="interface in com.amazonaws.athena.connector.lambda.security">EncryptionKeyFactory</a>&nbsp;keyFactory,
                                 <a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaConnectionFactory.html" title="class in com.amazonaws.athena.connectors.vertica">VerticaConnectionFactory</a>&nbsp;connectionFactory,
                                 com.amazonaws.services.secretsmanager.AWSSecretsManager&nbsp;awsSecretsManager,
                                 com.amazonaws.services.athena.AmazonAthena&nbsp;athena,
                                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;spillBucket,
                                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;spillPrefix,
                                 <a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaSchemaUtils.html" title="class in com.amazonaws.athena.connectors.vertica">VerticaSchemaUtils</a>&nbsp;verticaSchemaUtils,
                                 com.amazonaws.services.s3.AmazonS3&nbsp;amazonS3)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="doListSchemaNames-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.ListSchemasRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doListSchemaNames</h4>
<pre>public&nbsp;<a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/ListSchemasResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasResponse</a>&nbsp;doListSchemaNames(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;allocator,
                                             <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/ListSchemasRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasRequest</a>&nbsp;request)</pre>
<div class="block">Used to get the list of schemas (aka databases) that this source contains.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#doListSchemaNames-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.ListSchemasRequest-">doListSchemaNames</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog they are querying.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ListSchemasResponse which primarily contains a Set<String> of schema names and a catalog name
 corresponding the Athena catalog that was queried.</dd>
</dl>
</li>
</ul>
<a name="doListTables-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.ListTablesRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doListTables</h4>
<pre>public&nbsp;<a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/ListTablesResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesResponse</a>&nbsp;doListTables(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;allocator,
                                       <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/ListTablesRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesRequest</a>&nbsp;request)</pre>
<div class="block">Used to get the list of tables that this source contains.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#doListTables-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.ListTablesRequest-">doListTables</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog and database they are querying.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ListTablesResponse which primarily contains a List<TableName> enumerating the tables in this
 catalog, database tuple. It also contains the catalog name corresponding the Athena catalog that was queried.</dd>
</dl>
</li>
</ul>
<a name="doGetTable-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.GetTableRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doGetTable</h4>
<pre>public&nbsp;<a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetTableResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableResponse</a>&nbsp;doGetTable(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;allocator,
                                   <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetTableRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableRequest</a>&nbsp;request)</pre>
<div class="block">Used to get definition (field names, types, descriptions, etc...) of a Table.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#doGetTable-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.GetTableRequest-">doGetTable</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog, database, and table they are querying.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A GetTableResponse which primarily contains:
 1. An Apache Arrow Schema object describing the table's columns, types, and descriptions.
 2. A Set<String> of partition column names (or empty if the table isn't partitioned).
 3. A TableName object confirming the schema and table name the response is for.
 4. A catalog name corresponding the Athena catalog that was queried.</dd>
</dl>
</li>
</ul>
<a name="enhancePartitionSchema-com.amazonaws.athena.connector.lambda.data.SchemaBuilder-com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enhancePartitionSchema</h4>
<pre>public&nbsp;void&nbsp;enhancePartitionSchema(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/SchemaBuilder.html" title="class in com.amazonaws.athena.connector.lambda.data">SchemaBuilder</a>&nbsp;partitionSchemaBuilder,
                                   <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetTableLayoutRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableLayoutRequest</a>&nbsp;request)</pre>
<div class="block">Here we inject the additional column to hold the Prepared SQL Statement.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#enhancePartitionSchema-com.amazonaws.athena.connector.lambda.data.SchemaBuilder-com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest-">enhancePartitionSchema</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitionSchemaBuilder</code> - The SchemaBuilder you can use to add additional columns and metadata to the
 partitions response.</dd>
<dd><code>request</code> - The GetTableLayoutResquest that triggered this call.</dd>
</dl>
</li>
</ul>
<a name="getPartitions-com.amazonaws.athena.connector.lambda.data.BlockWriter-com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest-com.amazonaws.athena.connector.lambda.QueryStatusChecker-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPartitions</h4>
<pre>public&nbsp;void&nbsp;getPartitions(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockWriter.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockWriter</a>&nbsp;blockWriter,
                          <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetTableLayoutRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableLayoutRequest</a>&nbsp;request,
                          <a href="../../../../../com/amazonaws/athena/connector/lambda/QueryStatusChecker.html" title="class in com.amazonaws.athena.connector.lambda">QueryStatusChecker</a>&nbsp;queryStatusChecker)
                   throws <a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Used to get the partitions that must be read from the request table in order to satisfy the requested predicate.
 Here generating the SQL from the request and attaching it as a additional column</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#getPartitions-com.amazonaws.athena.connector.lambda.data.BlockWriter-com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest-com.amazonaws.athena.connector.lambda.QueryStatusChecker-">getPartitions</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockWriter</code> - Used to write rows (partitions) into the Apache Arrow response.</dd>
<dd><code>request</code> - Provides details of the catalog, database, and table being queried as well as any filter predicate.</dd>
<dd><code>queryStatusChecker</code> - A QueryStatusChecker that you can use to stop doing work for a query that has already terminated</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a name="doGetSplits-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.GetSplitsRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doGetSplits</h4>
<pre>public&nbsp;<a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetSplitsResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetSplitsResponse</a>&nbsp;doGetSplits(<a href="../../../../../com/amazonaws/athena/connector/lambda/data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;allocator,
                                     <a href="../../../../../com/amazonaws/athena/connector/lambda/metadata/GetSplitsRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetSplitsRequest</a>&nbsp;request)</pre>
<div class="block">Used to split-up the reads required to scan the requested batch of partition(s).

 Here we execute the SQL on Vertica</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html#doGetSplits-com.amazonaws.athena.connector.lambda.data.BlockAllocator-com.amazonaws.athena.connector.lambda.metadata.GetSplitsRequest-">doGetSplits</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/amazonaws/athena/connector/lambda/handlers/MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details of the catalog, database, table, andpartition(s) being queried as well as
 any filter predicate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A GetSplitsResponse which primarily contains:
 1. A Set<Split> which represent read operations Amazon Athena must perform by calling your read function.
 2. (Optional) A continuation token which allows you to paginate the generation of splits for large queries.</dd>
</dl>
</li>
</ul>
<a name="getS3ExportBucket--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getS3ExportBucket</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getS3ExportBucket()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VerticaMetadataHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaConnectionFactory.html" title="class in com.amazonaws.athena.connectors.vertica"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/amazonaws/athena/connectors/vertica/VerticaRecordHandler.html" title="class in com.amazonaws.athena.connectors.vertica"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/amazonaws/athena/connectors/vertica/VerticaMetadataHandler.html" target="_top">Frames</a></li>
<li><a href="VerticaMetadataHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019&#x2013;2022 <a href="https://https://aws.amazon.com//">Amazon Web Services</a>. All rights reserved.</small></p>
</body>
</html>
